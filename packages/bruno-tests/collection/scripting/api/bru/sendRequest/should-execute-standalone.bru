meta {
  name: should-execute-standalone
  type: http
  seq: 2
}

post {
  url: https://echo.usebruno.com
  body: none
  auth: inherit
}

assert {
  res.headers['send-request-folder-header']: eq send-request-folder-header-value
}

tests {
  await test("should not contain folder/collection config", async () => {
    await bru.sendRequest({
      url: "{{send_request_host}}",
      method: "POST",
      header: {
        "Content-Type": "{{send_request_header_value}}"
      },
      body: {
        mode: "raw",
        raw: "{{send_request_body}}"
      },
      variables: {
        "send_request_host": "https://echo.usebruno.com",
        "send_request_header_value": "application/json",
        "send_request_body": JSON.stringify({x:1})
      },
    }, (error, response) => {
      const responseHeaders = response?.headers;
      expect(responseHeaders).to.not.have.property("send-request-folder-header");
    });
  });
}
